(function(e){function t(t){for(var a,s,r=t[0],c=t[1],l=t[2],d=0,m=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],a=!0,r=1;r<o.length;r++){var c=o[r];0!==i[c]&&(a=!1)}a&&(n.splice(t--,1),e=s(s.s=o[0]))}return e}var a={},i={app:0},n=[];function s(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=a,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(o,a,function(t){return e[t]}.bind(null,a));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=c;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";o("85ec")},"1a12":function(e,t,o){},"273c":function(e,t,o){},"52f3":function(e,t,o){"use strict";o("ec0e")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-main",[o("router-view")],1)],1)},n=[],s={name:"App",components:{},data:function(){return{}}},r=s,c=(o("034f"),o("2877")),l=o("6544"),u=o.n(l),d=o("7496"),m=o("f6c4"),f=Object(c["a"])(r,i,n,!1,null,null,null),v=f.exports;u()(f,{VApp:d["a"],VMain:m["a"]});var h=o("f309");a["default"].use(h["a"]);var p=new h["a"]({}),g=o("8c4f"),b=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",[o("MDBInput",{attrs:{type:"email",label:"Email address",id:"form2Email",wrapperClass:"mb-4"},model:{value:e.form2Email,callback:function(t){e.form2Email=t},expression:"form2Email"}}),o("MDBInput",{attrs:{type:"password",label:"Password",id:"form2Password",wrapperClass:"mb-4"},model:{value:e.form2Password,callback:function(t){e.form2Password=t},expression:"form2Password"}}),o("MDBRow",{staticClass:"mb-4"},[o("MDBCol",{staticClass:"d-flex justify-content-center"},[o("MDBCheckbox",{attrs:{label:"Remember me",id:"form2LoginCheck",wrapperClass:"mb-3 mb-md-0"},model:{value:e.form2LoginCheck,callback:function(t){e.form2LoginCheck=t},expression:"form2LoginCheck"}})],1),o("MDBCol",[o("a",{attrs:{href:"#!"}},[e._v("Forgot password?")])])],1),o("MDBBtn",{attrs:{color:"primary",block:""}},[e._v(" Sign in ")]),o("div",{staticClass:"text-center"},[e._m(0),o("p",[e._v("or sign up with:")]),o("MDBBtn",{staticClass:"mx-1",attrs:{color:"primary",floating:""}},[o("MDBIcon",{attrs:{iconStyle:"fab",icon:"facebook-f"}}),e._v("> ")],1),o("MDBBtn",{staticClass:"mx-1",attrs:{color:"primary",floating:""}},[o("MDBIcon",{attrs:{iconStyle:"fab",icon:"google"}})],1),o("MDBBtn",{staticClass:"mx-1",attrs:{color:"primary",floating:""}},[o("MDBIcon",{attrs:{iconStyle:"fab",icon:"twitter"}})],1),o("MDBBtn",{staticClass:"mx-1",attrs:{color:"primary",floating:""}},[o("MDBIcon",{attrs:{iconStyle:"fab",icon:"github"}})],1)],1)],1)},_=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("p",[e._v("Not a member? "),o("a",{attrs:{href:"#!"}},[e._v("Register")])])}],x=o("d318"),C={components:{MDBRow:x["MDBRow"],MDBCol:x["MDBCol"],MDBInput:x["MDBInput"],MDBCheckbox:x["MDBCheckbox"],MDBBtn:x["MDBBtn"],MDBIcon:x["MDBIcon"]},setup:function(){var e=Object(a["ref"])(""),t=Object(a["ref"])(""),o=Object(a["ref"])(!0);return{form2Email:e,form2Password:t,form2LoginCheck:o}}},S=C,w=Object(c["a"])(S,b,_,!1,null,null,null),$=w.exports,k=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main"},[o("v-row",{attrs:{justify:"center"}},[o("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[o("v-btn",e._g(e._b({staticClass:"my-4",attrs:{color:"",dark:""}},"v-btn",i,!1),a),[e._v(" Adicionar Usuário ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[e._v("Usuário")])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Email*",rules:e.nomeRules},on:{keyup:function(t){e.nomeEmUso=!1}},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Nome",required:""},model:{value:e.user.nome,callback:function(t){e.$set(e.user,"nome",t)},expression:"user.nome"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Sobrenome",hint:"example of helper text only on focus"},model:{value:e.user.sobrenome,callback:function(t){e.$set(e.user,"sobrenome",t)},expression:"user.sobrenome"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"CPF",required:""},model:{value:e.user.cpf,callback:function(t){e.$set(e.user,"cpf",t)},expression:"user.cpf"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Telefone",required:""},model:{value:e.user.telefone,callback:function(t){e.$set(e.user,"telefone",t)},expression:"user.telefone"}})],1)],1)],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-select",{attrs:{items:e.cargos,label:"Cargo"},on:{change:e.select},model:{value:e.user.cargo,callback:function(t){e.$set(e.user,"cargo",t)},expression:"user.cargo"}})],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.reset}},[e._v(" Fechar ")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.salvar}},[e._v(" Salvar ")])],1)],1)],1)],1),o("div",{staticClass:"list-cursos mx-2 px-8"},[o("DataTable",{attrs:{items:e.funcionarios,headers:e._headers,loading:e.loading},on:{editar:e.edit,delete:e.deleteUser}})],1)],1)},I=[],E=(o("4de4"),o("4160"),o("caad"),o("d3b7"),o("2532"),o("159b"),o("7424")),D=(o("dca8"),{CAN_MANAGE_USERS:["DIRE","SUPER"],CAN_MANAGE_COURSES:["DIRE","COL"],CAN_ADD_INST:["SUPER","DIRE","DIRI"],CAN_GET_EDIT_INST:["SUPER"],CAN_MANAGE_SOLICITATIONS:["SUPER"],CAN_GET_SOLICITATIONS:["SUPER","COOR"]});for(var V in D)D[V]=Object.freeze(D[V]);var A=D,y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-data-table",{staticClass:"data-table elevation-8",attrs:{height:"70vh","fixed-header":"",items:e.items,headers:e.headers,loading:e.loading},scopedSlots:e._u([{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" "+e._s(e.solicitacao?"mdi-check-bold":"mdi-pencil")+" ")]),o("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" "+e._s(e.solicitacao?"mdi-close-thick":"mdi-delete")+" ")])]}}])})},O=[],N={name:"DataTable",props:["items","headers","loading","dialog","solicitacao"],data:function(){return{}},created:function(){},methods:{editItem:function(e){this.solicitacao?this.$emit("accept",e):this.$emit("editar",e),console.log(e)},deleteItem:function(e){this.$emit("delete",e),console.log(e)}},computed:{}},j=N,M=(o("8542"),o("8fea")),R=o("132d"),T=Object(c["a"])(j,y,O,!1,null,"04c386b5",null),B=T.exports;u()(T,{VDataTable:M["a"],VIcon:R["a"]});var U=o("f577"),q={name:"HelloWorld",components:{DataTable:B},data:function(){return{editing:!1,loading:!1,usuario:localStorage.nome.toUpperCase(),nomeEmUso:null,user:{nome:null,sobrenome:null,email:null,cpf:null,telefone:null,cargo:null},logged:null,dialog:!1,headers:[{text:"Nome",value:"nome",show:!0},{text:"Sobrenome",value:"sobrenome",show:!0},{text:"Telefone",value:"telefone",show:!0},{text:"CPF",value:"cpf",show:!0},{text:"Email",value:"email",show:!0},{text:"Cargo",value:"cargo",show:!0},{text:"Ações",value:"actions",sortable:!1,show:!1}],funcionarios:[],cargos:["Colaborador","Diretor","Dirigente","Superintendente","Coordenador do CARE"]}},created:function(){this.loading=!0,this.headers[this.headers.length-1].show=this.canAdd,this.getUsers()},computed:{canAdd:function(){return A.CAN_MANAGE_USERS.includes(localStorage.cargo)},nomeRules:function(){var e=[];return this.user.email||e.push("Campo obrigatório"),this.nomeEmUso&&e.push("Nome já está em uso"),e},_headers:function(){return this.headers.filter((function(e){return e.show}))}},methods:{getUsers:function(){var e=this;this.funcionarios=[],E["default"].get("/user").then((function(t){t.data.data.forEach((function(t){var o={nome:t.nome_funcionario,sobrenome:t.sobrenome,telefone:t.telefone_funcionario,cpf:t.cpf,email:t.email_funcionario,cargo:e.cargoFormatted(t.cargo)};e.funcionarios.push(o)}))})).catch((function(e){console.log(e)})).finally((function(){return e.loading=!1}))},deleteUser:function(e){var t=this;console.log(e),E["default"].post("user/delete",{email:e.email}).then((function(){return t.getUsers()}))},select:function(e){console.log(e),console.log(this.user.cargo)},salvar:function(e){var t=this;console.log(e),this.loading=!0,this.editing?console.log(this.user):Object(U["checkNomeDoUsuario"])(this.user.email).then((function(){t.nomeEmUso=!1,t.$emit("avancarEtapa"),t.user.senha="password",t.user.id_instituicao=localStorage.id_instituicao,console.log(t.user.cargo),t.user.cargo=t.cargoFormattedReversed(t.user.cargo),console.log(t.user.cargo),E["default"].post("user",t.user).then((function(e){return console.log(e)}))})).catch((function(){t.nomeEmUso=!0})).finally((function(){return t.loading=!1}))},cargoFormatted:function(e){switch(console.log(e),e){case"DIRE":return"Diretor";case"DIRI":return"Dirigente";case"SUPER":return"Superintendente";case"COORD":return"Coordenador do CARE";default:return"Colaborador"}},cargoFormattedReversed:function(e){switch(console.log(e),e){case"Diretor":return"DIRE";case"Dirigente":return"DIRI";case"Superintendente":return"SUPER";case"Coordenador do CARE":return"COORD";default:return"COL"}},edit:function(e){console.log("aasd"),this.editing=!0,this.user.nome=e.nome,this.user.sobrenome=e.sobrenome,this.user.email=e.email,this.user.cpf=e.cpf,this.user.telefone=e.telefone,this.user.cargo=e.cargo,this.dialog=!0},save:function(){},reset:function(){this.dialog=!1,this.editing=!1,this.user.nome=null,this.user.sobrenome=null,this.user.email=null,this.user.cpf=null,this.user.telefone=null,this.user.cargo=null}}},P=q,F=(o("c851"),o("8336")),L=o("b0af"),G=o("99d9"),H=o("62ad"),J=o("a523"),W=o("169a"),z=o("0fd9"),K=o("b974"),Q=o("2fa4"),X=o("8654"),Y=Object(c["a"])(P,k,I,!1,null,"535d3e28",null),Z=Y.exports;u()(Y,{VBtn:F["a"],VCard:L["a"],VCardActions:G["a"],VCardText:G["b"],VCardTitle:G["c"],VCol:H["a"],VContainer:J["a"],VDialog:W["a"],VRow:z["a"],VSelect:K["a"],VSpacer:Q["a"],VTextField:X["a"]});var ee=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"header"},[o("v-card",{staticClass:"align-center pa-0 fill-height elevation-0",attrs:{color:"light--text",height:"100%"}},[o("v-app-bar",{attrs:{dark:""}},[o("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}}),o("v-spacer"),o("v-icon",{staticClass:"mr-2",on:{click:e.logOut}},[e._v("mdi-exit-to-app")])],1),o("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[o("v-list-item",[o("v-list-item-avatar",{staticClass:"secondary"},[o("v-icon",{attrs:{dark:""}},[e._v("mdi-account")])],1),o("v-list-item-content",[o("v-list-item-title",[e._v(e._s(e.user))])],1)],1),o("v-divider"),o("v-list",{},[o("v-list-item",{attrs:{exact:"",to:"/home"}},[e._v("Página Inicial")]),e.isValidadora&&e.canSeeInst?o("v-list-item",{attrs:{exact:"",to:"/home/instituicoes"}},[e._v("Instituições ")]):e._e(),e.canSeeFunc?o("v-list-item",{attrs:{exact:"",to:"/home/usuarios"}},[e._v("Funcionários")]):e._e(),e.isValidadora?o("v-list-item",{attrs:{exact:"",to:"/home/cursos"}},[e._v("Cursos")]):e._e(),e.canSeeSolicitations?o("v-list-item",{attrs:{exact:"",to:"/home/solicitacoes"}},[e._v("Solicitações")]):e._e(),o("v-list-item",{staticClass:"white--text",attrs:{color:"grey darken"},on:{click:e.logOut}},[e._v("Sair")])],1)],1),o("router-view")],1)],1)},te=[],oe=(o("25f0"),{name:"Header",data:function(){return{drawer:!1,user:null}},created:function(){console.log(localStorage),this.user=localStorage.nome.charAt(0).toUpperCase()+localStorage.nome.substring(1)},watch:{localStorage:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.user=localStorage.nome.charAt(0).toUpperCase()+localStorage.nome.substring(1)}))},methods:{logOut:function(){var e=this;E["default"].post("/logout").then((function(){localStorage.clear(),e.$router.push("/")}))}},computed:{canSeeFunc:function(){return A.CAN_MANAGE_USERS.includes(localStorage.cargo)},canSeeInst:function(){return A.CAN_GET_EDIT_INST.includes(localStorage.cargo)},canSeeCourses:function(){return A.CAN_MANAGE_COURSES.includes(localStorage.cargo)},canSeeSolicitations:function(){return A.CAN_GET_SOLICITATIONS.includes(localStorage.cargo)},isValidadora:function(){return A.CAN_MANAGE_COURSES.includes(localStorage.cargo)}}}),ae=oe,ie=(o("52f3"),o("40dc")),ne=o("5bc1"),se=o("ce7e"),re=o("8860"),ce=o("da13"),le=o("8270"),ue=o("5d23"),de=o("f774"),me=Object(c["a"])(ae,ee,te,!1,null,null,null),fe=me.exports;u()(me,{VAppBar:ie["a"],VAppBarNavIcon:ne["a"],VCard:L["a"],VDivider:se["a"],VIcon:R["a"],VList:re["a"],VListItem:ce["a"],VListItemAvatar:le["a"],VListItemContent:ue["a"],VListItemTitle:ue["b"],VNavigationDrawer:de["a"],VSpacer:Q["a"]});var ve=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main"},[o("p",{staticClass:"info--text text-center my-4"},[e._v(" "+e._s(e.user)+" você está na tela de cursos ")]),o("v-row",{attrs:{justify:"center"}},[o("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[o("v-btn",e._g(e._b({staticClass:"my-4",attrs:{color:"",dark:""}},"v-btn",i,!1),a),[e._v(" Adicionar Curso ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[e._v("Curso")])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Nome do curso"},model:{value:e.curso.nome_curso,callback:function(t){e.$set(e.curso,"nome_curso",t)},expression:"curso.nome_curso"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Grau",required:""},model:{value:e.curso.grau,callback:function(t){e.$set(e.curso,"grau",t)},expression:"curso.grau"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Código MEC"},model:{value:e.curso.codigo_mec,callback:function(t){e.$set(e.curso,"codigo_mec",t)},expression:"curso.codigo_mec"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Publicação",required:"",hint:"Número da portaria"},model:{value:e.curso.publicacao,callback:function(t){e.$set(e.curso,"publicacao",t)},expression:"curso.publicacao"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Data de publicação",required:""},model:{value:e.curso.publicacao_data,callback:function(t){e.$set(e.curso,"publicacao_data",t)},expression:"curso.publicacao_data"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Reconhecimento",required:"",hint:"Número da portaria"},model:{value:e.curso.reconhecimento,callback:function(t){e.$set(e.curso,"reconhecimento",t)},expression:"curso.reconhecimento"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Data de reconhecimento",required:""},model:{value:e.curso.reconhecimento_data,callback:function(t){e.$set(e.curso,"reconhecimento_data",t)},expression:"curso.reconhecimento_data"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Observação",required:""},model:{value:e.curso.observacao,callback:function(t){e.$set(e.curso,"observacao",t)},expression:"curso.observacao"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.reset}},[e._v(" Fechar ")]),o("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading},on:{click:e.salvar}},[e._v(" Salvar ")])],1)],1)],1)],1),o("div",{staticClass:"list-cursos mx-2 px-8"},[o("DataTable",{attrs:{items:e.cursos,headers:e.headers},on:{editar:e.editCourse,delete:e.deleteCourse}})],1)],1)},he=[],pe={name:"HelloWorld",components:{DataTable:B},data:function(){return{loading:!1,editing:!1,dialog:!1,user:localStorage.nome,logged:null,curso:{nome_curso:null,grau:null,codigo_mec:null,id_curso:null,id_instituicao:null,publicacao:null,publicacao_data:null,reconhecimento:null,reconhecimento_data:null,observacao:null},headers:[{text:"Nome do curso",value:"nome_curso"},{text:"Grau",value:"grau"},{text:"Código do MEC",value:"codigo_mec"},{text:"Publicacao",value:"publicacao"},{text:"Data de publicação",value:"publicacao_data"},{text:"Reconhecimento",value:"reconhecimento"},{text:"Data de reconhecimento",value:"reconhecimento_data"},{text:"Observacao",value:"observacao"},{text:"Ações",value:"actions"}],cursos:[]}},methods:{editCourse:function(e){console.log(e),this.curso.nome_curso=e.nome_curso,this.curso.grau=e.grau,this.curso.codigo_mec=e.codigo_mec,this.curso.id_curso=e.id_curso,this.curso.id_instituicao=e.id_instituicao,this.curso.publicacao=e.publicacao,this.curso.publicacao_data=e.publicacao_data,this.curso.reconhecimento=e.reconhecimento,this.curso.reconhecimento_data=e.reconhecimento_data,this.curso.observacao=e.observacao,this.editing=!0,this.dialog=!0},deleteCourse:function(e){var t=this;E["default"].post("curso/delete",{id_curso:e.id_curso}).then((function(){t.cursos=[],t.getCourses()}))},getCourses:function(){var e=this;E["default"].get("curso").then((function(t){console.log(t),t.data.data.forEach((function(t){var o={nome_curso:t.nome_curso,grau:t.grau,codigo_mec:t.codigo_mec,id_curso:t.id_curso,id_instituicao:t.id_instituicao,publicacao:t.publicacao,publicacao_data:t.publicacao_data,reconhecimento:t.reconhecimento,reconhecimento_data:t.reconhecimento_data,observacao:t.observacao};e.cursos.push(o)}))}))},salvar:function(){var e=this;this.loading=!0,this.editing?E["default"].post("curso/edit",this.curso).then((function(){e.reset(),e.cursos=[],e.getCourses()})):E["default"].post("curso",{nome_curso:this.curso.nome_curso,grau:this.curso.grau,codigo_mec:this.curso.codigo_mec,publicacao:this.curso.publicacao,publicacao_data:this.curso.publicacao_data,reconhecimento:this.curso.reconhecimento,reconhecimento_data:this.curso.reconhecimento_data,observacao:this.curso.observacao}).then((function(){e.reset(),e.cursos=[],e.getCourses()}))},reset:function(){this.curso.nome_curso=null,this.curso.grau=null,this.curso.codigo_mec=null,this.curso.publicacao=null,this.curso.publicacao_data=null,this.curso.reconhecimento=null,this.curso.reconhecimento_data=null,this.curso.observacao=null,this.dialog=!1,this.editing=!1,this.loading=!1}},created:function(){this.getCourses()}},ge=pe,be=(o("6a0d"),Object(c["a"])(ge,ve,he,!1,null,"4703cc46",null)),_e=be.exports;u()(be,{VBtn:F["a"],VCard:L["a"],VCardActions:G["a"],VCardText:G["b"],VCardTitle:G["c"],VCol:H["a"],VContainer:J["a"],VDialog:W["a"],VRow:z["a"],VSpacer:Q["a"],VTextField:X["a"]});var xe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main"},[o("div",{staticClass:"list-cursos mx-2 px-8"},[e.isSuperintendente?o("ModalInstituicao",{ref:"modalInst",on:{edited:e.getInsts}}):e._e(),o("ModalUsuario"),o("DataTable",{attrs:{items:e.instituicoes,headers:e._headers,loading:e.loading},on:{editar:e.edit,delete:e.deleteInst}})],1)])},Ce=[],Se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-row",{attrs:{justify:"center"}},[o("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[o("v-btn",e._g(e._b({staticClass:"my-4",attrs:{color:"",dark:""}},"v-btn",i,!1),a),[e._v(" Adicionar instituição ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[e._v("Instituição")])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Nome",rules:e.nomeRules},on:{keyup:function(t){e.nomeEmUso=!1}},model:{value:e.instituicao.nome_instituicao,callback:function(t){e.$set(e.instituicao,"nome_instituicao",t)},expression:"instituicao.nome_instituicao"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{rules:e.$v.instituicao.mantenedora_nome.$invalid?["Campo obrigatório"]:[],label:"Nome da manenedora",required:""},model:{value:e.instituicao.mantenedora_nome,callback:function(t){e.$set(e.instituicao,"mantenedora_nome",t)},expression:"instituicao.mantenedora_nome"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{rules:e.$v.instituicao.mantenedora_cnpj.$invalid?["Campo obrigatório"]:[],label:"CNPJ da mantenedora",hint:"example of helper text only on focus"},model:{value:e.instituicao.mantenedora_cnpj,callback:function(t){e.$set(e.instituicao,"mantenedora_cnpj",t)},expression:"instituicao.mantenedora_cnpj"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{rules:e.$v.instituicao.rua.$invalid?["Campo obrigatório"]:[],label:"Rua",required:""},model:{value:e.instituicao.rua,callback:function(t){e.$set(e.instituicao,"rua",t)},expression:"instituicao.rua"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"CEP",rules:e.$v.instituicao.cep.$invalid?["Campo obrigatório"]:[],required:""},model:{value:e.instituicao.cep,callback:function(t){e.$set(e.instituicao,"cep",t)},expression:"instituicao.cep"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{rules:e.$v.instituicao.cidade.$invalid?["Campo obrigatório"]:[],label:"Cidade",required:""},model:{value:e.instituicao.cidade,callback:function(t){e.$set(e.instituicao,"cidade",t)},expression:"instituicao.cidade"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{rules:e.$v.instituicao.bairro.$invalid?["Campo obrigatório"]:[],label:"Bairro",required:""},model:{value:e.instituicao.bairro,callback:function(t){e.$set(e.instituicao,"bairro",t)},expression:"instituicao.bairro"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{rules:e.$v.instituicao.estado.$invalid?["Campo obrigatório"]:[],label:"Estado",required:""},model:{value:e.instituicao.estado,callback:function(t){e.$set(e.instituicao,"estado",t)},expression:"instituicao.estado"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{rules:e.$v.instituicao.credenciamento.$invalid?["Campo obrigatório"]:[],label:"Credenciamento",required:""},model:{value:e.instituicao.credenciamento,callback:function(t){e.$set(e.instituicao,"credenciamento",t)},expression:"instituicao.credenciamento"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.reset}},[e._v(" Fechar ")]),o("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading},on:{click:e.next}},[e._v(" "+e._s(e.editing?"Salvar":"Próximo")+" ")])],1)],1)],1)],1)],1)},we=[],$e=o("b5ae"),ke=o("be15"),Ie=o.n(ke),Ee={name:"ModalInstituicao",data:function(){return{nomeOriginal:null,loading:!1,dialog:!1,nomeEmUso:!1,editing:!1,instituicao:{nome_instituicao:null,mantenedora_nome:null,mantenedora_cnpj:null,credenciamento:null,cep:null,rua:null,bairro:null,cidade:null,estado:null,status:"Ativa"}}},validations:function(){return{instituicao:{nome_instituicao:{required:$e["required"]},mantenedora_nome:{required:$e["required"]},mantenedora_cnpj:{required:$e["required"]},credenciamento:{required:$e["required"]},cep:{required:$e["required"]},rua:{required:$e["required"]},bairro:{required:$e["required"]},cidade:{required:$e["required"]},estado:{required:$e["required"]},status:{required:$e["required"]}}}},methods:{edit:function(e){var t=this;Ie.a.editarInstituicao(e).then((function(){t.reset(),t.$emit("edited")}))},reset:function(){this.instituicao.nome_instituicao=null,this.instituicao.mantenedora_nome=null,this.instituicao.mantenedora_cnpj=null,this.instituicao.credenciamento=null,this.instituicao.cep=null,this.instituicao.rua=null,this.instituicao.bairro=null,this.instituicao.cidade=null,this.instituicao.estado=null,this.instituicao.status="Ativa",this.dialog=!1},next:function(){var e=this;this.loading=!0,console.log(this.editing),this.editing?this.edit(this.instituicao):Object(U["checkNomeDaInstituicao"])(this.instituicao.nome_instituicao).then((function(){e.$root.$emit("first-user",{instituicao:e.instituicao}),e.dialog=!1})).catch((function(){e.nomeEmUso=!0})).finally((function(){e.loading=!1}))}},computed:{nomeRules:function(){var e=[];return this.instituicao.nome_instituicao||e.push("Campo obrigatório"),this.editing&&this.instituicao.nome_instituicao==this.nomeOriginal||(this.nomeEmUso&&e.push("Nome já está em uso"),console.log(e)),e}},created:function(){var e=this;this.$root.$root.$on("reset",(function(){e.reset()})),this.$root.$root.$on("edit",(function(){e.edit()}))}},De=Ee,Ve=Object(c["a"])(De,Se,we,!1,null,null,null),Ae=Ve.exports;u()(Ve,{VBtn:F["a"],VCard:L["a"],VCardActions:G["a"],VCardText:G["b"],VCardTitle:G["c"],VCol:H["a"],VContainer:J["a"],VDialog:W["a"],VRow:z["a"],VSpacer:Q["a"],VTextField:X["a"]});var ye=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-row",{attrs:{justify:"center"}},[o("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[e._v(e._s(1==e.step?"Informações sobre o diretor":"Dirigente"))])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Nome"},model:{value:e.usuario.nome,callback:function(t){e.$set(e.usuario,"nome",t)},expression:"usuario.nome"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Nome da manenedora",required:""},model:{value:e.usuario.mantenedora_nome,callback:function(t){e.$set(e.usuario,"mantenedora_nome",t)},expression:"usuario.mantenedora_nome"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"CNPJ da mantenedora",hint:"example of helper text only on focus"},model:{value:e.usuario.mantenedora_cnpj,callback:function(t){e.$set(e.usuario,"mantenedora_cnpj",t)},expression:"usuario.mantenedora_cnpj"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Rua",required:""},model:{value:e.usuario.rua,callback:function(t){e.$set(e.usuario,"rua",t)},expression:"usuario.rua"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"CEP",required:""},model:{value:e.usuario.cep,callback:function(t){e.$set(e.usuario,"cep",t)},expression:"usuario.cep"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Cidade",required:""},model:{value:e.usuario.cidade,callback:function(t){e.$set(e.usuario,"cidade",t)},expression:"usuario.cidade"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Bairro",required:""},model:{value:e.usuario.bairro,callback:function(t){e.$set(e.usuario,"bairro",t)},expression:"usuario.bairro"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Estado",required:""},model:{value:e.usuario.estado,callback:function(t){e.$set(e.usuario,"estado",t)},expression:"usuario.estado"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Credenciamento",required:""},model:{value:e.usuario.credenciamento,callback:function(t){e.$set(e.usuario,"credenciamento",t)},expression:"usuario.credenciamento"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.reset}},[e._v(" Cancelar ")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.next}},[e._v(" "+e._s(1==e.step?"Próximo":"Salvar")+" ")])],1)],1)],1)],1)],1)},Oe=[],Ne={name:"ModalUsuario",data:function(){return{dialog:!1,step:1,instituicao:null,usuario:{nome:null,mantenedora_nome:null,mantenedora_cnpj:null,credenciamento:null,cep:null,rua:null,bairro:null,cidade:null,estado:null,status:null}}},created:function(){var e=this;this.$root.$root.$on("first-user",(function(t){console.log(t),e.instituicao=t.instituicao,e.dialog=!0})),this.$root.$root.$on("next-user",(function(t){e.step=2,console.log(t),e.dialog=!0}))},methods:{reset:function(){this.dialog=!1,this.$root.$root.$emit("reset")},next:function(){console.log(this.step),1==this.step&&(this.dialog=!1,this.$root.$root.$emit("next-user",{instituicao:this.instituicao,diretor:this.usuario}))}}},je=Ne,Me=Object(c["a"])(je,ye,Oe,!1,null,null,null),Re=Me.exports;u()(Me,{VBtn:F["a"],VCard:L["a"],VCardActions:G["a"],VCardText:G["b"],VCardTitle:G["c"],VCol:H["a"],VContainer:J["a"],VDialog:W["a"],VRow:z["a"],VSpacer:Q["a"],VTextField:X["a"]});var Te={name:"InstituicoesAtivas",components:{DataTable:B,ModalInstituicao:Ae,ModalUsuario:Re},data:function(){return{dialog:!1,loading:!1,user:localStorage.nome.toUpperCase(),logged:null,headers:[{text:"Nome",value:"nome_instituicao",show:!0},{text:"Mantenedora nome",value:"mantenedora_nome",show:!0},{text:"Mantenedora cnpj",value:"mantenedora_cnpj",show:!0},{text:"Credenciamento",value:"credenciamento",show:!0},{text:"Cep",value:"cep",show:!0},{text:"Rua",value:"rua",show:!0},{text:"Bairro",value:"bairro",show:!0},{text:"Cidade",value:"cidade",show:!0},{text:"Estado",value:"estado",show:!0},{text:"Ações",value:"actions",sortable:!1,show:!0}],instituicoes:[]}},created:function(){this.loading=!0,this.getInsts()},computed:{isSuperintendente:function(){return"SUPER"==localStorage.cargo},_headers:function(){return this.headers.filter((function(e){return e.show}))}},methods:{getInsts:function(){var e=this;this.instituicoes=[],E["default"].post("/instituicao",{status:"Ativa"}).then((function(t){t.data.data.forEach((function(t){var o={nome_instituicao:t.nome_instituicao,mantenedora_nome:t.mantenedora_nome,mantenedora_cnpj:t.mantenedora_cnpj,credenciamento:t.credenciamento,cep:t.cep,rua:t.rua,bairro:t.bairro,cidade:t.cidade,estado:t.estado,status:t.status};e.instituicoes.push(o)}))})).catch((function(e){console.log(e)})).finally((function(){return e.loading=!1}))},edit:function(e){this.$refs.modalInst.instituicao.nome_instituicao=e.nome_instituicao,this.$refs.modalInst.instituicao.mantenedora_nome=e.mantenedora_nome,this.$refs.modalInst.instituicao.mantenedora_cnpj=e.mantenedora_cnpj,this.$refs.modalInst.instituicao.credenciamento=e.credenciamento,this.$refs.modalInst.instituicao.cep=e.cep,this.$refs.modalInst.instituicao.rua=e.rua,this.$refs.modalInst.instituicao.bairro=e.bairro,this.$refs.modalInst.instituicao.cidade=e.cidade,this.$refs.modalInst.instituicao.estado=e.estado,this.$refs.modalInst.instituicao.status=e.status,this.$refs.modalInst.dialog=!0,this.$refs.modalInst.editing=!0,this.$refs.modalInst.nomeOriginal=e.nome_instituicao},deleteInst:function(e){var t=this;console.log(e),E["default"].post("instituicao/delete",{nome_instituicao:e.nome_instituicao}).then((function(){t.instituicoes=[],t.getInsts()}))}}},Be=Te,Ue=(o("6dfc"),Object(c["a"])(Be,xe,Ce,!1,null,"023653fa",null)),qe=Ue.exports,Pe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main"},[o("div",{staticClass:"list-cursos mx-2 px-8"},[o("DataTable",{attrs:{items:e.instituicoes,headers:e._headers,loading:e.loading,solicitacao:"true"},on:{accept:e.accept,delete:e.deleteInst}})],1)])},Fe=[],Le={name:"InstituicoesAtivas",components:{DataTable:B},data:function(){return{dialog:!1,loading:!1,user:localStorage.nome.toUpperCase(),logged:null,headers:[{text:"Nome",value:"nome_instituicao",show:!0},{text:"Mantenedora nome",value:"mantenedora_nome",show:!0},{text:"Mantenedora cnpj",value:"mantenedora_cnpj",show:!0},{text:"Credenciamento",value:"credenciamento",show:!0},{text:"Cep",value:"cep",show:!0},{text:"Rua",value:"rua",show:!0},{text:"Bairro",value:"bairro",show:!0},{text:"Cidade",value:"cidade",show:!0},{text:"Estado",value:"estado",show:!0},{text:"Ações",value:"actions",sortable:!1,show:!0}],instituicoes:[]}},created:function(){var e=this;this.loading=!0,this.headers[this.headers.length-1].show=this.isSuperintendente,E["default"].post("/instituicao",{status:"pendente"}).then((function(t){t.data.data.forEach((function(t){var o={nome_instituicao:t.nome_instituicao,mantenedora_nome:t.mantenedora_nome,mantenedora_cnpj:t.mantenedora_cnpj,credenciamento:t.credenciamento,cep:t.cep,rua:t.rua,bairro:t.bairro,cidade:t.cidade,estado:t.estado,status:t.status};e.instituicoes.push(o)}))})).catch((function(e){console.log(e)})).finally((function(){return e.loading=!1}))},computed:{isSuperintendente:function(){return"SUPER"==localStorage.cargo},_headers:function(){return this.headers.filter((function(e){return e.show}))}},methods:{deleteInst:function(e){console.log(e)},accept:function(e){var t=this;e.status="Ativa",console.log(e),Ie.a.editarInstituicao(e).then((function(){return t.$router.go()})).catch((function(e){return console.log(e)}))}}},Ge=Le,He=(o("830c"),Object(c["a"])(Ge,Pe,Fe,!1,null,"e8972578",null)),Je=He.exports,We=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("div",{staticClass:"title"}),o("div",{staticClass:"d-flex flex-column align-center fill-height elevation-0"},[o("p",{staticClass:"display-2 text-center mt-8"},[e._v(" Bem vindo a plataforma de gerenciamento de faculdades ")]),o("div",{staticClass:"cards d-flex justify-space-around align-center fill-height flex-wrap"},[e.isValidadora&&e.canSeeInst?o("v-card",{staticClass:"my-4",attrs:{exact:"",to:"/home/instituicoes",height:"250px","min-width":"250px",hover:""}},[o("v-icon",[e._v("mdi-office-building")]),o("v-card-title",[e._v("Instituições")])],1):e._e(),e.canSeeCourses?o("v-card",{staticClass:"my-4",attrs:{exact:"",to:"/home/cursos",height:"250px","min-width":"250px",hover:""}},[o("v-icon",[e._v("mdi-book-multiple")]),o("v-card-title",[e._v("Cursos")])],1):e._e(),e.canSeeFunc?o("v-card",{staticClass:"my-4",attrs:{exact:"",to:"/home/usuarios",height:"250px","min-width":"250px",hover:""}},[o("v-icon",[e._v("mdi-account-multiple")]),o("v-card-title",[e._v("Funcionários")])],1):e._e(),e.canSeeSolicitations?o("v-card",{staticClass:"my-4",attrs:{exact:"",to:"/home/solicitacoes",height:"250px","min-width":"250px",hover:""}},[o("v-icon",[e._v("mdi-account-multiple")]),o("v-card-title",[e._v("Solicitações")])],1):e._e(),e.canValidate?o("v-card",{staticClass:"my-4",attrs:{exact:"",height:"250px","min-width":"250px",hover:""}},[o("v-icon",[e._v("mdi-book")]),o("v-card-title",[e._v("Validar diploma")])],1):e._e()],1)])])},ze=[],Ke={name:"Home",data:function(){return{}},computed:{canSeeInst:function(){return A.CAN_GET_EDIT_INST.includes(localStorage.cargo)},canSeeCourses:function(){return A.CAN_MANAGE_COURSES.includes(localStorage.cargo)},canSeeSolicitations:function(){return A.CAN_GET_SOLICITATIONS.includes(localStorage.cargo)},isValidadora:function(){return localStorage.validadora},canSeeFunc:function(){return A.CAN_MANAGE_USERS.includes(localStorage.cargo)},canValidate:function(){return"COL"==localStorage.cargo}}},Qe=Ke,Xe=(o("e286"),Object(c["a"])(Qe,We,ze,!1,null,"fee7dcd8",null)),Ye=Xe.exports;u()(Xe,{VCard:L["a"],VCardTitle:G["c"],VIcon:R["a"]}),a["default"].use(g["a"]);var Ze=new g["a"]({mode:"history",routes:[{path:"/",name:"Login",component:$},{path:"/home",name:"Home",component:fe,children:[{path:"",component:Ye},{path:"cursos",component:_e},{path:"instituicoes",component:qe},{path:"usuarios",component:Z},{path:"solicitacoes",component:Je}]}]}),et=Ze,tt=o("5f5b"),ot=o("b1e0"),at=o("1dce"),it=o.n(at);o("f9e3"),o("2dd8");a["default"].config.productionTip=!1,a["default"].use(it.a),a["default"].use(tt["a"]),a["default"].use(ot["a"]),new a["default"]({vuetify:p,router:et,render:function(e){return e(v)}}).$mount("#app")},"6a0d":function(e,t,o){"use strict";o("1a12")},"6dfc":function(e,t,o){"use strict";o("f890")},7424:function(e,t,o){"use strict";o.r(t);var a=o("bc3a"),i=o.n(a),n=i.a.create({baseURL:"http://localhost:3000",withCredentials:!0});t["default"]=n},"830c":function(e,t,o){"use strict";o("eb11")},8542:function(e,t,o){"use strict";o("c3d8")},"85ec":function(e,t,o){},be15:function(e,t,o){o("d3b7");var a=o("7424"),i=a.default;e.exports={cadastroInicial:function(e,t,o){return new Promise((function(a,n){i.post("instituicao/inicial",{instituicao:e,diretor:t,dirigente:o}).then((function(e){a(e)})).catch((function(e){n(e)}))}))},editarInstituicao:function(e){return console.log(e),new Promise((function(t,o){i.post("instituicao/edit",{instituicao:e}).then((function(e){t(e)})).catch((function(e){o(e)}))}))}}},c3d8:function(e,t,o){},c851:function(e,t,o){"use strict";o("273c")},e286:function(e,t,o){"use strict";o("ec63")},eb11:function(e,t,o){},ec0e:function(e,t,o){},ec63:function(e,t,o){},f577:function(e,t,o){o("d3b7");var a=o("7424"),i=a.default;e.exports={checkNomeDaInstituicao:function(e){return console.log(i),new Promise((function(t,o){i.post("/instituicao/check",{nome_instituicao:e}).then((function(e){t(e)})).catch((function(e){o(e)}))}))},checkNomeDoUsuario:function(e){return console.log(e),new Promise((function(t,o){i.post("/user/check",{usuario:e}).then((function(e){t(e)})).catch((function(e){o(e)}))}))}}},f890:function(e,t,o){}});
//# sourceMappingURL=app.8590bf6d.js.map